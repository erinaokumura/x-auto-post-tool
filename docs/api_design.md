# API設計（最小構成）

## 概要
- ユーザーがGitHubリポジトリ名を指定してAPIを呼び出す
- サーバー側でGitHub APIからコミット情報を取得
- 取得したコミット情報をAIに渡してツイート案を生成
- ユーザーがOKなら、そのままX（Twitter）に投稿

---

## 1. ツイート案生成API
- **エンドポイント**: `/api/generate_tweet`
- **メソッド**: POST
- **リクエストボディ例**:
```json
{
  "repository": "user/repo"
}
```
- **レスポンス例**:
```json
{
  "commit_message": "fix: バグ修正",
  "tweet_draft": "リポジトリuser/repoでバグ修正のコミットをしました！ #個人開発"
}
```

### フロー
1. repository名を受け取る
2. GitHub APIで最新コミット情報を取得
3. AIでツイート案を生成
4. ツイート案を返す

---

## 2. ツイート実行API
- **エンドポイント**: `/api/post_tweet`
- **メソッド**: POST
- **リクエストボディ例**:
```json
{
  "tweet": "リポジトリuser/repoでバグ修正のコミットをしました！ #個人開発"
}
```
- **レスポンス例**:
```json
{
  "status": "ok"
}
```

---

## 備考
- DB保存は行わず、すべてリクエストごとに処理
- 必要に応じて、今後コミットIDやURLなども返却・投稿可能 